<!DOCTYPE html>
<html>
	<head>
		<title>JS</title>
	</head>
	<body>
		<p>Valeur du compteur :</p>
		<p id="compteur">10</p>
		<br>
		<canvas id="carre">Ici, il y a un canvas</canvas>
	</body>
	<script>
		//TP1
		function pageChargee()
		{
			let compteur = document.getElementById("compteur");
			let i = 10;

			let interval = setInterval(() => {
				if (i > 0)
				{
					compteur.innerHTML = --i;
				}
				else
				{
					clearInterval(interval);
				}
			}, 1000);
		}

		window.addEventListener('load', pageChargee);

		//TP2 (EN COURS)
		function gestionCanvas()
		{
			let canvas = document.getElementById("carre");
			let context = canvas.getContext("2d");

			let x = 0;
			let y = 10;

			let interval = setInterval(() => {
				context.clearRect(x - 10, y, x - 10, y);
				context.fillRect(x, y, x, y);

				x += 10;

				if (x > canvas.width)
				{
					clearInterval(interval);
					alert("Fin du dessin");
				}
			}, 100);
		}

		window.addEventListener('load', gestionCanvas);
	</script>
</html>
